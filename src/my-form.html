<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-checkbox/paper-checkbox.html">
<link rel="import" href="../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../bower_components/paper-item/paper-item.html">
<dom-module id="my-form">

  <!-- Defines the element's style and local DOM -->
  <template>

    <!-- This form is only used to display the elements -->
    <form is="iron-form" id="myform">
      <paper-input name="name" label="Name" required></paper-input>
      <paper-input name="password" label="Password" type="password" required></paper-input>
      <paper-checkbox name="read" required>You must check this box</paper-checkbox><br>
      <paper-button raised onclick="_nativeSubmit(event)">Submit</paper-button>
    </form>

    <!-- This form is used to submit the elements. This is where you would
      set your method, action, etc. -->
    <form method="get" action="redirect" id="myform">
    </form>


  </template>

  <!-- Creates the element's prototype and registers it -->
  <script>
    Polymer({
      is: 'my-form',
      properties: {
        route: Object
      }
    });
    function _nativeSubmit(event) {
      if (myform.validate()) {
        // For each element the iron-form wants to submit, create a hidden
        // input in the submission form.
        var serializedItems = redirectDemo.serialize();
        for (var name in serializedItems) {
          var input = document.createElement('input');
          input.hidden = true;
          input.name = name;
          input.value = serializedItems[name];
          myform.appendChild(input);
        }
        myform.submit();
      }
    }
  </script>

</dom-module>
